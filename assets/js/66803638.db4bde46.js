(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{113:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return s})),a.d(t,"default",(function(){return l}));var n=a(3),r=a(7),o=(a(0),a(189)),i={slug:"2019-06-17-hello-reason-react-native",title:"Hello Reason React Native",author:"MoOx",author_title:"ReScript React Native Core Team",author_url:"https://github.com/MoOx",author_image_url:"https://avatars.githubusercontent.com/u/157534?v=4",tags:["hello","reason"]},c={permalink:"/blog/2019-06-17-hello-reason-react-native",editUrl:"https://github.com/rescript-react-native/rescript-react-native.github.io/edit/src/blog/2019-06-17-hello-reason-react-native.md",source:"@site/blog/2019-06-17-hello-reason-react-native.md",title:"Hello Reason React Native",description:"Today is a big day for the ReasonML community as we are releasing the fruits of",date:"2019-06-17T00:00:00.000Z",formattedDate:"June 17, 2019",tags:[{label:"hello",permalink:"/blog/tags/hello"},{label:"reason",permalink:"/blog/tags/reason"}],readingTime:4.435,truncated:!1,prevItem:{title:"Hello ReScript React Native",permalink:"/blog/2021-05-04-hello-rescript-react-native"}},s=[{value:"Zero-cost",id:"zero-cost",children:[]},{value:"But why <code>reason-react-native</code> ?",id:"but-why-reason-react-native-",children:[]},{value:"Wait, what is <code>bs-react-native-jsx3-compat</code> ?",id:"wait-what-is-bs-react-native-jsx3-compat-",children:[]},{value:"tl;dr",id:"tldr",children:[]},{value:"Thanks",id:"thanks",children:[]},{value:"What&#39;s next?",id:"whats-next",children:[]}],b={toc:s};function l(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Today is a big day for the ReasonML community as we are releasing the fruits of\na long effort started about 4 months ago."),Object(o.b)("p",null,"As more and more people were starting to use ReasonML on production apps using\nReact Native, we wanted to make the ReScript / BuckleScript bindings for React Native,\nknown has ",Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native"),", more accessible. This would have involved several\nbreaking changes in order to simplify some APIs that have been designed with a\nhigh level of security in mind, but at some costs. The cost of being harder to\nstart with (for newcomers to ReasonML) as well as the cost in terms of code size\nand performance."),Object(o.b)("p",null,"While some of us were thinking about some simplifications, some others, involved\nin Reason React incoming changes, directly started a new approach for this\nbindings, following\n",Object(o.b)("a",{parentName:"p",href:"https://reasonml.github.io/reason-react/blog/2019/04/10/react-hooks"},"the zero-cost approach offered by reason-react 0.7.0"),"."),Object(o.b)("p",null,Object(o.b)("a",{parentName:"p",href:"https://www.cca.io"},"CCA")," started this effort on what is now know as the new\n",Object(o.b)("inlineCode",{parentName:"p"},"reason-react-native")," bindings, that eliminates a huge part of the additional\nJavaScript code produced by the bindings."),Object(o.b)("h2",{id:"zero-cost"},"Zero-cost"),Object(o.b)("p",null,"By zero-cost, we means zero additional cost. The JavaScript code ReScript / BuckleScript\nproduces using this bindings will most of the time directly hit React Native\nJavaScript code without creating an unnecessary abstraction above it \ud83d\ude4c."),Object(o.b)("p",null,"Here are some random examples:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://github.com/reason-react-native/reason-react-native/blob/958cd4e3a5ffa303304a0b2404cd53b5f49e649f/bs-react-native/src/components/ViewProps.bs.js"},Object(o.b)("inlineCode",{parentName:"a"},"bs-react-native")," ",Object(o.b)("inlineCode",{parentName:"a"},"View")),"\nvs\n",Object(o.b)("a",{parentName:"li",href:"https://github.com/reason-react-native/reason-react-native/blob/958cd4e3a5ffa303304a0b2404cd53b5f49e649f/reason-react-native/src/components/View.bs.js"},Object(o.b)("inlineCode",{parentName:"a"},"reason-react-native")," ",Object(o.b)("inlineCode",{parentName:"a"},"View"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://github.com/reason-react-native/reason-react-native/blob/958cd4e3a5ffa303304a0b2404cd53b5f49e649f/bs-react-native/src/style.bs.js"},Object(o.b)("inlineCode",{parentName:"a"},"bs-react-native")," ",Object(o.b)("inlineCode",{parentName:"a"},"Style")),"\nvs\n",Object(o.b)("a",{parentName:"li",href:"https://github.com/reason-react-native/reason-react-native/blob/958cd4e3a5ffa303304a0b2404cd53b5f49e649f/reason-react-native/src/apis/Style.bs.js"},Object(o.b)("inlineCode",{parentName:"a"},"reason-react-native")," ",Object(o.b)("inlineCode",{parentName:"a"},"Style"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://github.com/reason-react-native/reason-react-native/blob/958cd4e3a5ffa303304a0b2404cd53b5f49e649f/bs-react-native/src/platform.bs.js"},Object(o.b)("inlineCode",{parentName:"a"},"bs-react-native")," ",Object(o.b)("inlineCode",{parentName:"a"},"Platform")),"\nvs\n",Object(o.b)("a",{parentName:"li",href:"https://github.com/reason-react-native/reason-react-native/blob/958cd4e3a5ffa303304a0b2404cd53b5f49e649f/reason-react-native/src/apis/Platform.bs.js"},Object(o.b)("inlineCode",{parentName:"a"},"reason-react-native")," ",Object(o.b)("inlineCode",{parentName:"a"},"Platform")))),Object(o.b)("p",null,"Some modules are even empty or with some minor ",Object(o.b)("inlineCode",{parentName:"p"},"require()")," that can be\nthemselves almost empty and easily removed by some JavaScript bundlers."),Object(o.b)("p",null,"How cool is that?"),Object(o.b)("h2",{id:"but-why-reason-react-native-"},"But why ",Object(o.b)("inlineCode",{parentName:"h2"},"reason-react-native")," ?"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native")," already had multiple breaking changes in the past and we\ndidn't really want to offer a poor experience by creating a new release with\ntons of changes that won't be easy to codemod (or would require much more work\nfrom us)."),Object(o.b)("p",null,"On top of that, ",Object(o.b)("inlineCode",{parentName:"p"},"reason-react")," latest release already added an important\nbreaking change with\n",Object(o.b)("a",{parentName:"p",href:"https://reasonml.github.io/reason-react/docs/en/jsx"},"JSX 3"),"."),Object(o.b)("p",null,"That's why we had this idea about offering an easy and smooth transition by\noffering 2 packages to say goodbye to ",Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native")," without pain."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"bs-react-native-jsx3-compat")," (0.11.1)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reason-react-native"),"\n(",Object(o.b)("a",{parentName:"li",href:"/docs/install/#note-about-reason-react-native-version-number"},"0.60.0"),")")),Object(o.b)("h2",{id:"wait-what-is-bs-react-native-jsx3-compat-"},"Wait, what is ",Object(o.b)("inlineCode",{parentName:"h2"},"bs-react-native-jsx3-compat")," ?"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native")," is using JSX 2 so in order to use it with JSX 3 we would have\nto create an additional layer on top of the current bindings to offer both JSX 2\nand 3 bindings. And since we wanted to do away with some current APIs of\n",Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native")," we started to think about a new approach."),Object(o.b)("p",null,"We knew that we wanted to:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"offer to ",Object(o.b)("inlineCode",{parentName:"li"},"bs-react-native")," users a migration plan, so they can start very\neasily to use JSX 3 and new ",Object(o.b)("inlineCode",{parentName:"li"},"reason-react")," (so they can use hooks),"),Object(o.b)("li",{parentName:"ul"},"offer new ",Object(o.b)("inlineCode",{parentName:"li"},"reason-react-native")," bindings, more accessible and with a zero cost\napproach."),Object(o.b)("li",{parentName:"ul"},"offer a smooth transition between these two packages so people can slowly\nupgrade their codebase without having to make an insane PR that switches from\none to the other.")),Object(o.b)("p",null,"We don't want your co-workers to hate you with a PR that comes directly from\nhell \ud83d\ude05."),Object(o.b)("p",null,"That's where we thought about offering ",Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native-jsx3-compat"),". It's a\npackage that has the same APIs ",Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native")," has but that uses\n",Object(o.b)("inlineCode",{parentName:"p"},"reason-react-native")," under the hood."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"This means you will have to make a migration from JSX 2 to 3"),". That's the\nonly thing you will have to do, then with a single change from ",Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native"),"\nwith ",Object(o.b)("inlineCode",{parentName:"p"},"bs-react-native-jsx3-compat")," in your ",Object(o.b)("inlineCode",{parentName:"p"},"bs-dependencies")," you will be ready\nto use hooks and directly benefit of (almost) zero-cost bindings!"),Object(o.b)("p",null,"And since we care about you and don't want you to upgrade from JSX 2 to 3 by\nhand, we got you covered with a script made with love to help you with that."),Object(o.b)("p",null,Object(o.b)("a",{parentName:"p",href:"https://reason-react-native.github.io/en/docs/migration/jsx3/"},"You will find all the required instructions to migrate from ",Object(o.b)("inlineCode",{parentName:"a"},"bs-react-native")," to ",Object(o.b)("inlineCode",{parentName:"a"},"bs-react-native-jsx3-compat")," in our documentation"),"."),Object(o.b)("h2",{id:"tldr"},"tl;dr"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"bs-react-native")," has now entered a frozen state and won't receive any upgrade"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"bs-react-native-jsx3-compat")," allows you to use existing code based on\n",Object(o.b)("inlineCode",{parentName:"li"},"bs-react-native")," with ",Object(o.b)("inlineCode",{parentName:"li"},"reason-react")," 0.7.0 and JSX 3"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reason-react-native")," package contains the new bindings for React Native, that\noffers more accessible APIs and that is almost zero-cost"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://reason-react-native.github.io/en/docs/migration/jsx3/"},"We offer you an easy and smooth migration plan so you can start using ",Object(o.b)("inlineCode",{parentName:"a"},"reason-react-native")," and slowly say bye to ",Object(o.b)("inlineCode",{parentName:"a"},"bs-react-native")),".")),Object(o.b)("h2",{id:"thanks"},"Thanks"),Object(o.b)("p",null,"This required effort has been keeping us busy for weeks and wouldn't have been\npossible without the following people:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"CCA team and especially ",Object(o.b)("a",{parentName:"li",href:"https://github.com/cknitt"},"@cknitt")," for leading us to\nthe right direction for the new zero-cost bindings and all the contributions\nthat come with this move"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://github.com/sgny"},"@sgny")," for all his contributions to the new bindings"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://github.com/MoOx"},"@MoOx")," for leading the effort, the compat layer and\nthe new website you are seeing here"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://github.com/bloodyowl"},"@bloodyowl")," for his magical\n",Object(o.b)("a",{parentName:"li",href:"https://github.com/bloodyowl/reason-react-compat"},"reason-react-compat")," layer\nand\n",Object(o.b)("a",{parentName:"li",href:"https://bloodyowl.github.io/blog/2019-04-19-an-alternative-migration-path-for-reason-react/"},"the alternate JSX 3 upgrade path"),"\nthat goes with it"),Object(o.b)("li",{parentName:"ul"},"all the people that helped us on Discord and GitHub in various code reviews\nand improvements like the react native template (thanks\n",Object(o.b)("a",{parentName:"li",href:"https://github.com/dawee"},"@dawee"),")")),Object(o.b)("h2",{id:"whats-next"},"What's next?"),Object(o.b)("p",null,"Now that ",Object(o.b)("inlineCode",{parentName:"p"},"reason-react-native")," is ready to be used and that our migration plan\nis usable, we will probably be focused on documentation as lots of APIs and\nComponents need to be documented. We really want to offer the best developer\nexperience possible and that's definitely part of it."),Object(o.b)("p",null,"\ud83d\udc49Now it's time for you to check our\n",Object(o.b)("a",{parentName:"p",href:"/docs/"},"Getting Started with Reason React Native documentation")))}l.isMDXComponent=!0},189:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return u}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),l=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},p=function(e){var t=l(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,b=s(e,["components","mdxType","originalType","parentName"]),p=l(a),d=n,u=p["".concat(i,".").concat(d)]||p[d]||h[d]||o;return a?r.a.createElement(u,c(c({ref:t},b),{},{components:a})):r.a.createElement(u,c({ref:t},b))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var b=2;b<o;b++)i[b]=a[b];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);