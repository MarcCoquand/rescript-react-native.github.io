(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{101:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return p})),t.d(n,"metadata",(function(){return d})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return l}));var a=t(3),r=t(7),o=(t(0),t(189)),p={id:"panresponder",title:"PanResponder",officialDoc:"https://reactnative.dev/docs/panresponder"},d={unversionedId:"panresponder",id:"panresponder",isDocsHomePage:!1,title:"PanResponder",description:"PanResponder allows more fine-grained control of the",source:"@site/docs/panresponder.md",sourceDirName:".",slug:"/panresponder",permalink:"/docs/panresponder",editUrl:"https://github.com/rescript-react-native/rescript-react-native.github.io/edit/src/docs/panresponder.md",version:"current",frontMatter:{id:"panresponder",title:"PanResponder",officialDoc:"https://reactnative.dev/docs/panresponder"},sidebar:"api",previous:{title:"Packager",permalink:"/docs/packager"},next:{title:"PermissionsAndroid",permalink:"/docs/permissionsandroid"}},s=[{value:"Types",id:"types",children:[{value:"<code>Event.pressEvent</code>",id:"eventpressevent",children:[]},{value:"<code>gestureState</code>",id:"gesturestate",children:[]},{value:"<code>t</code>",id:"t",children:[]},{value:"<code>config</code>",id:"config",children:[]},{value:"<code>panHandlers</code>",id:"panhandlers",children:[]},{value:"<code>callback&lt;&#39;a&gt;</code>",id:"callbacka",children:[]}]},{value:"Methods",id:"methods",children:[{value:"<code>create</code>",id:"create",children:[]},{value:"<code>panHandlers</code>",id:"panhandlers-1",children:[]},{value:"<code>onMoveShouldSetResponder</code>",id:"onmoveshouldsetresponder",children:[]},{value:"<code>onMoveShouldSetResponderCapture</code>",id:"onmoveshouldsetrespondercapture",children:[]},{value:"<code>onStartShouldSetResponder</code>",id:"onstartshouldsetresponder",children:[]},{value:"<code>onStartShouldSetResponderCapture</code>",id:"onstartshouldsetrespondercapture",children:[]},{value:"<code>onResponderReject</code>",id:"onresponderreject",children:[]},{value:"<code>onResponderGrant</code>",id:"onrespondergrant",children:[]},{value:"<code>onResponderRelease</code>",id:"onresponderrelease",children:[]},{value:"<code>onResponderMove</code>",id:"onrespondermove",children:[]},{value:"<code>onResponderTerminate</code>",id:"onresponderterminate",children:[]},{value:"<code>onResponderStart</code>",id:"onresponderstart",children:[]},{value:"<code>onResponderTerminationRequest</code>",id:"onresponderterminationrequest",children:[]},{value:"<code>onResponderEnd</code>",id:"onresponderend",children:[]}]},{value:"Example",id:"example",children:[]}],c={toc:s};function l(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"PanResponder")," allows more fine-grained control of the\n",Object(o.b)("a",{parentName:"p",href:"https://reactnative.dev/docs/gesture-responder-system"},Object(o.b)("em",{parentName:"a"},"Gesture Responder System")),",\nas the handlers can depend also on ",Object(o.b)("inlineCode",{parentName:"p"},"gestureState"),", in addition to the\n",Object(o.b)("inlineCode",{parentName:"p"},"Event.pressEvent")," which are passed to the ",Object(o.b)("em",{parentName:"p"},"Gesture Responder System")," handlers.\nIn essence, by means of a custom ",Object(o.b)("inlineCode",{parentName:"p"},"PanResponder"),", ",Object(o.b)("em",{parentName:"p"},"Gesture Responder System"),"\nhandlers are extended to also depend upon the ",Object(o.b)("inlineCode",{parentName:"p"},"gestureState"),"."),Object(o.b)("h2",{id:"types"},"Types"),Object(o.b)("h3",{id:"eventpressevent"},Object(o.b)("inlineCode",{parentName:"h3"},"Event.pressEvent")),Object(o.b)("p",null,"see ",Object(o.b)("a",{parentName:"p",href:"/docs/event/#pressevent"},Object(o.b)("inlineCode",{parentName:"a"},"Event"))),Object(o.b)("h3",{id:"gesturestate"},Object(o.b)("inlineCode",{parentName:"h3"},"gestureState")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"gestureState")," contains additional information on the state of the ","_","Gesture\nResponder System","_"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"type gestureState = {\n  stateid: float,\n  moveX: float,\n  moveY: float,\n  x0: float,\n  y0: float,\n  dx: float,\n  dy: float,\n  vx: float,\n  vy: float,\n  numberActiveTouches: int,\n}\n")),Object(o.b)("h3",{id:"t"},Object(o.b)("inlineCode",{parentName:"h3"},"t")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"t")," is the abstract type for a ",Object(o.b)("inlineCode",{parentName:"p"},"PanResponder"),", which can be created by means of\nthe ",Object(o.b)("inlineCode",{parentName:"p"},"create")," method, given a ",Object(o.b)("inlineCode",{parentName:"p"},"config")," object"),Object(o.b)("h3",{id:"config"},Object(o.b)("inlineCode",{parentName:"h3"},"config")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"config")," is the abstract type for a custom ",Object(o.b)("inlineCode",{parentName:"p"},"PanResponder")," configuration; it can\nbe created by means of the ",Object(o.b)("inlineCode",{parentName:"p"},"config")," constructor"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"config:\n  (\n    ~onMoveShouldSetPanResponder: (Event.pressEvent, gestureState) => bool=?,\n    ~onMoveShouldSetPanResponderCapture: (Event.pressEvent, gestureState) =>\n                                         bool\n                                           =?,\n    ~onStartShouldSetPanResponder: (Event.pressEvent, gestureState) => bool=?,\n    ~onStartShouldSetPanResponderCapture: (Event.pressEvent, gestureState) =>\n                                          bool\n                                            =?,\n    ~onPanResponderReject: (Event.pressEvent, gestureState) => unit=?,\n    ~onPanResponderGrant: (Event.pressEvent, gestureState) => unit=?,\n    ~onPanResponderStart: (Event.pressEvent, gestureState) => unit=?,\n    ~onPanResponderEnd: (Event.pressEvent, gestureState) => unit=?,\n    ~onPanResponderRelease: (Event.pressEvent, gestureState) => unit=?,\n    ~onPanResponderMove: (Event.pressEvent, gestureState) => unit=?,\n    ~onPanResponderTerminate: (Event.pressEvent, gestureState) => unit=?,\n    ~onPanResponderTerminationRequest: (Event.pressEvent, gestureState) => bool\n                                         =?,\n    ~onShouldBlockNativeResponder: (Event.pressEvent, gestureState) => bool=?,\n    unit\n  ) => config\n")),Object(o.b)("h3",{id:"panhandlers"},Object(o.b)("inlineCode",{parentName:"h3"},"panHandlers")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," is the abstract type for ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," of a ",Object(o.b)("inlineCode",{parentName:"p"},"PanResponder"),", which\ncan be accessed by means of the getter method ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")),Object(o.b)("h3",{id:"callbacka"},Object(o.b)("inlineCode",{parentName:"h3"},"callback<'a>")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"callback<'a>")," is the type of the usual callback function specified for each\n",Object(o.b)("em",{parentName:"p"},"Gesture Responder System")," handler defined as"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"type callback<'a> = Event.pressEvent => 'a\n")),Object(o.b)("p",null,"where ",Object(o.b)("inlineCode",{parentName:"p"},"'a")," is either ",Object(o.b)("inlineCode",{parentName:"p"},"bool")," or ",Object(o.b)("inlineCode",{parentName:"p"},"unit")),Object(o.b)("h2",{id:"methods"},"Methods"),Object(o.b)("h3",{id:"create"},Object(o.b)("inlineCode",{parentName:"h3"},"create")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"create")," allows creation of a ",Object(o.b)("inlineCode",{parentName:"p"},"PanResponder")," given a ",Object(o.b)("inlineCode",{parentName:"p"},"config")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"create: config => t\n")),Object(o.b)("h3",{id:"panhandlers-1"},Object(o.b)("inlineCode",{parentName:"h3"},"panHandlers")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," is a getter method to access ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," within a ",Object(o.b)("inlineCode",{parentName:"p"},"PanResponder")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"panHandlers: t => panHandlers\n")),Object(o.b)("h3",{id:"onmoveshouldsetresponder"},Object(o.b)("inlineCode",{parentName:"h3"},"onMoveShouldSetResponder")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onMoveShouldSetResponder")," is a getter method to access the\n",Object(o.b)("inlineCode",{parentName:"p"},"onMoveShouldSetResponder")," callback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onMoveShouldSetResponder: panHandlers => callback(bool)\n")),Object(o.b)("h3",{id:"onmoveshouldsetrespondercapture"},Object(o.b)("inlineCode",{parentName:"h3"},"onMoveShouldSetResponderCapture")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onMoveShouldSetResponderCapture")," is a getter method to access the\n",Object(o.b)("inlineCode",{parentName:"p"},"onMoveShouldSetResponderCapture")," callback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onMoveShouldSetResponderCapture: panHandlers => callback(bool)\n")),Object(o.b)("h3",{id:"onstartshouldsetresponder"},Object(o.b)("inlineCode",{parentName:"h3"},"onStartShouldSetResponder")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onStartShouldSetResponder")," is a getter method to access the\n",Object(o.b)("inlineCode",{parentName:"p"},"onStartShouldSetResponder")," callback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onStartShouldSetResponder: panHandlers => callback(bool)\n")),Object(o.b)("h3",{id:"onstartshouldsetrespondercapture"},Object(o.b)("inlineCode",{parentName:"h3"},"onStartShouldSetResponderCapture")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onStartShouldSetResponderCapture")," is a getter method to access the\n",Object(o.b)("inlineCode",{parentName:"p"},"onStartShouldSetResponderCapture")," callback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onStartShouldSetResponderCapture: panHandlers => callback(bool)\n")),Object(o.b)("h3",{id:"onresponderreject"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderReject")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderReject")," is a getter method to access the ",Object(o.b)("inlineCode",{parentName:"p"},"onResponderReject"),"\ncallback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderReject: panHandlers => callback(unit)\n")),Object(o.b)("h3",{id:"onrespondergrant"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderGrant")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderGrant")," is a getter method to access the ",Object(o.b)("inlineCode",{parentName:"p"},"onResponderGrant")," callback\nof a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderGrant: panHandlers => callback(unit)\n")),Object(o.b)("h3",{id:"onresponderrelease"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderRelease")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderRelease")," is a getter method to access the ",Object(o.b)("inlineCode",{parentName:"p"},"onResponderRelease"),"\ncallback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderRelease: panHandlers => callback(unit)\n")),Object(o.b)("h3",{id:"onrespondermove"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderMove")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderMove")," is a getter method to access the ",Object(o.b)("inlineCode",{parentName:"p"},"onResponderMove")," callback of\na ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderMove: panHandlers => callback(unit)\n")),Object(o.b)("h3",{id:"onresponderterminate"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderTerminate")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderTerminate")," is a getter method to access the ",Object(o.b)("inlineCode",{parentName:"p"},"onResponderTerminate"),"\ncallback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderTerminate: panHandlers => callback(unit)\n")),Object(o.b)("h3",{id:"onresponderstart"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderStart")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderStart")," is a getter method to access the ",Object(o.b)("inlineCode",{parentName:"p"},"onResponderStart")," callback\nof a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderStart: panHandlers => callback(unit)\n")),Object(o.b)("h3",{id:"onresponderterminationrequest"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderTerminationRequest")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderTerminationRequest")," is a getter method to access the\n",Object(o.b)("inlineCode",{parentName:"p"},"onResponderTerminationRequest")," callback of a ",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderTerminationRequest: panHandlers => callback(bool)\n")),Object(o.b)("h3",{id:"onresponderend"},Object(o.b)("inlineCode",{parentName:"h3"},"onResponderEnd")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"onResponderEnd")," is a getter method to access the ",Object(o.b)("inlineCode",{parentName:"p"},"onResponderEnd")," callback of a\n",Object(o.b)("inlineCode",{parentName:"p"},"panHandlers")," object"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onResponderEnd: panHandlers => callback(unit)\n")),Object(o.b)("h2",{id:"example"},"Example"),Object(o.b)("p",null,"As props spread is not possible with the ReScript JSX 3 syntax, each ",Object(o.b)("em",{parentName:"p"},"Gesture\nResponder System")," callback needs to be separately specified, with the relevant\nvalue obtained by means of the associated getter."),Object(o.b)("p",null,"While props spread may not be available, copy-paste is probably supported by\nyour editor..."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},"onMoveShouldSetResponder={\n  panHandlers->PanResponder.onMoveShouldSetResponder\n}\nonMoveShouldSetResponderCapture={\n  panHandlers->PanResponder.onMoveShouldSetResponderCapture\n}\nonStartShouldSetResponder={\n  panHandlers->PanResponder.onStartShouldSetResponder\n}\nonStartShouldSetResponderCapture={\n  panHandlers->PanResponder.onStartShouldSetResponderCapture\n}\nonResponderReject={panHandlers->PanResponder.onResponderReject}\nonResponderGrant={panHandlers->PanResponder.onResponderGrant}\nonResponderRelease={panHandlers->PanResponder.onResponderRelease}\nonResponderMove={panHandlers->PanResponder.onResponderMove}\nonResponderTerminate={panHandlers->PanResponder.onResponderTerminate}\nonResponderStart={panHandlers->PanResponder.onResponderStart}\nonResponderTerminationRequest={\n  panHandlers->PanResponder.onResponderTerminationRequest\n}\nonResponderEnd={panHandlers->PanResponder.onResponderEnd}\n")),Object(o.b)("p",null,"Then, the custom ",Object(o.b)("inlineCode",{parentName:"p"},"PanResponder")," can be used as below:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-rescript"},'open ReactNative\n\nlet windowHeight = Dimensions.get(#window).height\nlet windowWidth = Dimensions.get(#window).width\n\nlet containerStyle = {\n  open Style\n  style(\n    ~width=windowWidth->dp,\n    ~height=windowHeight->dp,\n    ~justifyContent=#center,\n    ~alignItems=#center\xe0\n    (),\n  )\n}\n\nlet config = PanResponder.config(\n  ~onMoveShouldSetPanResponder=(_e, _g) => true,\n  ~onPanResponderRelease=(_e, g) =>\n    g["dx"] > 0.\n      ? "You swiped right"->Js.Console.warn\n      : "You swiped left"->Js.Console.warn,\n  (),\n)\n\nlet panResponder = PanResponder.create(config)\n\nlet panHandlers = panResponder->PanResponder.panHandlers\n\n@react.component\nlet make = () =>\n  <View\n    style=containerStyle\n    onMoveShouldSetResponder={panHandlers->PanResponder.onMoveShouldSetResponder}\n    onMoveShouldSetResponderCapture={panHandlers->PanResponder.onMoveShouldSetResponderCapture}\n    onStartShouldSetResponder={panHandlers->PanResponder.onStartShouldSetResponder}\n    onStartShouldSetResponderCapture={panHandlers->PanResponder.onStartShouldSetResponderCapture}\n    onResponderReject={panHandlers->PanResponder.onResponderReject}\n    onResponderGrant={panHandlers->PanResponder.onResponderGrant}\n    onResponderRelease={panHandlers->PanResponder.onResponderRelease}\n    onResponderMove={panHandlers->PanResponder.onResponderMove}\n    onResponderTerminate={panHandlers->PanResponder.onResponderTerminate}\n    onResponderStart={panHandlers->PanResponder.onResponderStart}\n    onResponderTerminationRequest={panHandlers->PanResponder.onResponderTerminationRequest}\n    onResponderEnd={panHandlers->PanResponder.onResponderEnd}>\n    <Text> {"Please swipe"->React.string} </Text>\n  </View>\n')))}l.isMDXComponent=!0},189:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),l=function(e){var n=r.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},i=function(e){var n=l(e.components);return r.a.createElement(c.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},u=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),i=l(t),u=a,m=i["".concat(p,".").concat(u)]||i[u]||b[u]||o;return t?r.a.createElement(m,d(d({ref:n},c),{},{components:t})):r.a.createElement(m,d({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,p=new Array(o);p[0]=u;var d={};for(var s in n)hasOwnProperty.call(n,s)&&(d[s]=n[s]);d.originalType=e,d.mdxType="string"==typeof e?e:a,p[1]=d;for(var c=2;c<o;c++)p[c]=t[c];return r.a.createElement.apply(null,p)}return r.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);